### **برومبت تنفيذي: إنشاء لوحة تحكم إدارية شاملة**

**المهمة:** قم بإنشاء صفحة تحكم شاملة تنقسم إلى ثلاثة ملفات رئيسية (HTML – CSS – JS)، بحيث يؤدي كل ملف غرضه بصرامة ووضوح، دون خلط في المهام.

---
### **سيناريو المستخدم (النزيل)**

1.  **الوصول:** النزيل يقوم بفتح تطبيق الويب من غرفته عبر مسح رمز QR أو إدخال رابط مباشر.
2.  **الواجهة:** تظهر له واجهة الفندق الرئيسية التي تحتوي على أقسام (قائمة الطعام، طلب الخدمات، المساعد الذكي).
3.  **إرسال طلب:**
    *   **طلب خدمة:** يدخل النزيل إلى قسم "طلبات وخدمات"، يكتب رسالة (مثال: "أحتاج مناشف إضافية")، ويقوم بإرسالها. يتم تسجيل الطلب فورًا في قاعدة البيانات تحت رقم غرفته.
    *   **طلب طعام:** يتصفح "قائمة الطعام"، يضيف الأصناف إلى السلة، وعند تأكيد الطلب، يتم إرسال "سلة الطعام" كاملة إلى قاعدة البيانات.
4.  **تلقي الرد:** في قسم "طلبات وخدمات"، يظهر رد الإدارة على رسالته بشكل فوري في واجهة محادثة.

---
### **سيناريو المشرف (الأدمن)**

1.  **الوصول:** المشرف يقوم بفتح ملف `public/admin/index.html` في المتصفح.
2.  **المصادقة:** تظهر له شاشة تطلب كلمة مرور للوصول إلى لوحة التحكم.
3.  **لوحة التحكم:** بعد المصادقة، تظهر الواجهة الإدارية الشاملة التي تعرض:
    *   **نظرة عامة على الغرف:** قائمة بجميع الغرف وحالتها (شاغرة، مشغولة) وعدد الطلبات أو الرسائل الجديدة لكل غرفة.
    *   **قسم الطلبات والرسائل:** واجهة مركزية تستقبل جميع طلبات الخدمة ورسائل النزلاء لحظيًا.
    *   **قسم طلبات الطعام (السلل):** واجهة مخصصة لعرض طلبات الطعام كبطاقات منفصلة، مقسمة حسب الحالة (جديد، قيد التنفيذ، مكتمل).
4.  **التفاعل:**
    *   **الرد على رسالة:** يضغط المشرف على رسالة نزيل، تفتح له واجهة محادثة خاصة بالغرفة، يكتب الرد ويرسله.
    *   **متابعة طلب طعام:** يرى المشرف طلب طعام جديد، يضغط على زر "بدء التنفيذ" لتغيير حالته، وبعد تجهيزه يضغط على "إتمام الطلب". يمكنه إرسال إشعار للنزيل بأن طلبه في الطريق.
5.  **التحديث الفوري:** كل البيانات في لوحة التحكم (رسائل، طلبات، حالات) تتحدث تلقائيًا وبشكل فوري دون الحاجة لإعادة تحميل الصفحة.

---
### **المواصفات التنفيذية للملفات**

**1. ملف HTML: الهيكل الوظيفي (`public/admin/index.html`)**

*   **الغرض:** يمثل الهيكل الكامل لواجهة الإدارة.
*   **المحتوى:**
    *   **لوحة تحكم رئيسية** مقسمة إلى أقسام وظيفية واضحة (نظرة عامة، طلبات الطعام، الرسائل).
    *   **نموذج مصادقة** للدخول.
    *   **قائمة للغرف** مع مؤشرات للحالة.
    *   **أعمدة عرض الطلبات** (جديد، قيد التنفيذ، مكتمل).
    *   **حاوية لعرض تفاصيل الطلب** أو المحادثة عند التحديد.
    *   **نظام تنبيهات:** يتضمن هيكل نظام الإشعارات لتنبيه الأدمن.

**2. ملف CSS: الهوية البصرية والتصميم الوظيفي (`public/admin/style.css`)**

*   **الغرض:** مسؤول عن المظهر الاحترافي للواجهة وضمان تجربة استخدام سلسة وفعالة.
*   **المتطلبات:**
    *   **الهوية:** يضفي طابعاً بصرياً احترافياً يعكس هوية الفندق (استخدام ألوان العلامة التجارية: الذهبي، البني، الكريمي).
    *   **الوضوح:** يضمن تقسيماً واضحاً بين الأقسام.
    *   **التمييز البصري:** يمنح كل حالة لوناً خاصاً (برتقالي للجديد، أصفر للتنفيذ، أخضر للمكتمل) لتسهيل التعرف السريع.
    *   **تجربة المستخدم:** يراعي تصميم الواجهة لتمكين الأدمن من متابعة كافة المهام بسهولة ودون ارتباك.

**3. ملف JS: المحرك التفاعلي والربط المباشر (`public/admin/script.js`)**

*   **الغرض:** مسؤول عن إدارة التفاعل الحي واللحظي بين الأدمن والنزلاء.
*   **الوظائف:**
    *   **الربط مع Firebase Realtime Database:**
        *   استقبال وتحديث جميع البيانات بشكل لحظي.
        *   إرسال الردود وتغيير حالات الطلبات.
    *   **التحديثات الحية (Real-time):** إدارة جميع التحديثات في الواجهة بشكل فوري.
    *   **آلية الإشعارات:** تفعيل آلية إشعارات مرئية أو صوتية فورية عند وصول أي طلب أو رسالة جديدة.

---
### **المواصفات التقنية وقاعدة البيانات**

*   **Firebase Realtime Database:** هي المصدر الوحيد للحقيقة.
*   **إعدادات Firebase (للتضمين في `script.js`):**
    ```javascript
    const firebaseConfig = {
        apiKey: "AIzaSyApgrwfyrVJYsihy9tUwPfazdNYZPqWbow",
        authDomain: "kaoud-hotel.firebaseapp.com",
        databaseURL: "https://kaoud-hotel-default-rtdb.firebaseio.com",
        projectId: "kaoud-hotel",
        storageBucket: "kaoud-hotel.appspot.com",
        messagingSenderId: "77309702077",
        appId: "1:77309702077:web:1eee14c06204def2eb6cd4"
    };
    ```
*   **بنية البيانات المتوقعة في RTDB:**
    ```
    /rooms
      /room_{roomNumber}
        /comments       // طلبات الخدمة والرسائل
          /{commentId}
            - text: "..."
            - timestamp: "..."
            - rating: "..."
            - guestName: "..."
        /replies        // ردود الإدارة
          /{replyId}
            - text: "..."
            - timestamp: "..."
            - adminName: "Admin"
        /orders         // طلبات الطعام
          /{orderId}
            - items: [...]
            - total: "..."
            - timestamp: "..."
            - status: "new" | "in-progress" | "completed"
    ```
*   **روابط المكتبات المطلوبة (للتضمين في `index.html`):**
    *   **Firebase:**
        *   `https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js`
        *   `https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js`
    *   **Bootstrap (للتصميم السريع):**
        *   `https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css`
        *   `https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js`
    *   **Font Awesome (للأيقونات):**
        *   `https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css`
    *   **SweetAlert2 (للإشعارات المنبثقة):**
        *   `https://cdn.jsdelivr.net/npm/sweetalert2@11`

---
### **المحصلة النهائية المطلوبة**

صفحة تحكم إدارية كاملة للفندق، تجمع بين إدارة الغرف، استقبال الرسائل، استقبال طلبات الطعام، والرد الفوري للنزلاء. يجب أن يتم التنفيذ بدقة وصرامة مع وضوح تام في فصل المهام بين الملفات الثلاثة، وسلاسة كاملة في التعامل بين النزيل والأدمن.
